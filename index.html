<!DOCTYPE html>
<html>
<head>
    <title>Outdoor Miner</title>
    <link rel="stylesheet" href="style.css">
    <meta name="description" content="A colorful territory capture game with hexagonal tiles">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body>
    <header>
        <h1>Outdoor Miner</h1>
        <div id="multiplayer-status">Offline</div> <!-- Added Status Indicator -->
    </header>

    <!-- Setup Container - Shown Initially -->
    <div id="setup-container">
        <h2>Welcome!</h2>
        <div class="input-group">
            <label for="player-name-input">Enter Your Name:</label> <!-- Changed ID -->
            <input type="text" id="player-name-input" placeholder="Player Name" maxlength="20"> <!-- Changed ID -->
        </div>
        <div class="button-group">
            <button id="local-game-button">Play Local Game</button> <!-- Changed ID -->
            <button id="create-challenge-button">Create Online Challenge</button> <!-- Changed ID -->
        </div>
        <div class="join-group">
            <input type="text" id="game-id-input" placeholder="Enter Code to Join"> <!-- Changed ID -->
            <button id="join-challenge-button">Join Online Challenge</button> <!-- Changed ID -->
        </div>
        <div id="setup-message" class="message-area"></div>
    </div>

    <!-- Main Game Elements - Hidden Initially -->
    <div id="score-container" style="display: none;">
         <!-- Score display structure needs review/fixing -->
         <div id="player1-score-container">
             <span id="player1-color-swatch" class="color-swatch-display"></span>
             <span id="player1-name">Player 1</span>: <span id="player1-score">0</span>
             <div id="player1-powerups" class="powerup-inventory"></div>
         </div>
         <div id="player2-score-container">
              <span id="player2-color-swatch" class="color-swatch-display"></span>
             <span id="player2-name">Player 2</span>: <span id="player2-score">0</span>
             <div id="player2-powerups" class="powerup-inventory"></div>
         </div>
         <!-- Game ID display Area -->
          <div id="challenge-info" style="display: none;">
              Game ID: <span id="game-id-display">N/A</span>
          </div>
    </div>
    <div id="game-area" style="display: none;"> <!-- Combine game-area divs -->
        <canvas id="gameCanvas" width="800" height="600">Your browser does not support the canvas element.</canvas>
         <!-- Removed duplicated game-area div and simplified power-up structure; power-ups are now part of score-container -->
         <!-- Removed second canvas id="game-board" -->
    </div>

    <div id="color-palette">
        <div class="color-swatch">
            <button class="color-button" data-color="#F8E9A1" style="background-color: #F8E9A1;"></button>
        </div>
        <div class="color-swatch">
            <button class="color-button" data-color="#F76C6C" style="background-color: #F76C6C;"></button>
        </div>
        <div class="color-swatch">
            <button class="color-button" data-color="#B8E0F6" style="background-color: #B8E0F6;"></button>
        </div>
        <div class="color-swatch">
            <button class="color-button" data-color="#374785" style="background-color: #374785;"></button>
        </div>
        <div class="color-swatch">
            <button class="color-button" data-color="#0F1A40" style="background-color: #0F1A40;"></button>
        </div>
    </div>
    <div id="game-controls" class="hidden-initially">
          <!-- Game control buttons like restart/leave might go here later if needed -->
          <button id="restartGameButton">Restart Game</button>
          <button id="leaveGameButton">Leave Game</button>
      </div>
  
      <div id="message" class="hidden-initially">Welcome to Outdoor Miner! Place your tiles wisely.</div>
      <div id="landmine-info" class="hidden-initially"></div> <!-- To display landmine count -->
    </div>
    

    <!-- Audio elements for game sounds -->
    <audio id="explosion-sound" src="sounds/explosion.mp3" preload="auto"></audio>
    <audio id="power-up-sound" src="sounds/power-up.mp3" preload="auto"></audio>
    <audio id="message-sound" src="sounds/message.mp3" preload="auto"></audio>
    <audio id="taunt-sound" src="sounds/taunt.mp3" preload="auto"></audio>
    
    <!-- Chat overlay (initially hidden) -->
    <div id="chat-container" class="hidden">
        <div id="chat-header">
            <h3>Game Chat</h3>
            <button id="close-chat">Ã—</button>
        </div>
        <div id="chat-messages"></div>
        <div id="chat-input-area">
            <input type="text" id="chat-input" placeholder="Type a message...">
            <button id="send-message">Send</button>
            <div id="taunt-menu" class="hidden">
                <div class="taunt-list"></div>
            </div>
            <button id="show-taunts">ðŸ˜ˆ</button>
        </div>
    </div>

    <!-- Chat toggle button -->
    <button id="toggle-chat" style="display: none;">ðŸ’¬</button>

    <!-- Load scripts at the very end, ensuring order and single inclusion -->
    <!-- 1. Socket.IO Client Library (v4) -->
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js" integrity="sha384-2huaZvOR9iDzHqslqwpR87isEmrfxqyWOF7hr7BY6KG0+hVKLoEXMPUJw3ynWuhO" crossorigin="anonymous"></script>
    <!-- 2. Game Configuration -->
    <script src="config.js"></script>
    <!-- 3. Core Game Logic -->
    <script src="script.js"></script>
    <!-- 4. Multiplayer Logic -->
    <script src="multiplayer.js"></script>
    <!-- Ensure no other script tags for these files exist elsewhere in the HTML -->

    <footer>
        <p>Outdoor Miner &copy; 2025 - A colorful territory capture game</p>
    </footer>
</body>
</html>