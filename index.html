<!DOCTYPE html>
<html>
<head>
    <title>Outdoor Miner</title>
    <link rel="stylesheet" href="style.css">
    <meta name="description" content="A colorful territory capture game with hexagonal tiles">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body>
    <header>
        <h1>Outdoor Miner</h1>
    </header>

    <!-- Setup Container - Shown Initially -->
    <div id="setup-container">
        <h2>Welcome!</h2>
        <div class="input-group">
            <label for="player-name-setup">Enter Your Name:</label>
            <input type="text" id="player-name-setup" placeholder="Player Name" maxlength="20">
        </div>
        <div class="button-group">
            <button id="start-local-game">Play Local Game</button>
            <button id="setup-create-challenge">Create Online Challenge</button>
        </div>
        <div class="join-group">
            <input type="text" id="challenge-code-setup" placeholder="Enter Code to Join">
            <button id="setup-join-challenge">Join Online Challenge</button>
        </div>
        <div id="setup-message" class="message-area"></div>
    </div>

    <!-- Main Game Elements - Hidden Initially -->
    <div id="score-container" style="display: none;">
        <div id="player-score">You: <span id="your-score">0</span></div>
        <div id="turn-indicator">Current Turn: <span id="current-player">You</span></div>
        <div id="opponent-score">Opponent: <span id="opponent-score-value">0</span></div>
    </div>

    <div id="game-area" style="display: none;">
        <div id="left-powers" class="power-side">
            <div class="power-up-slot" data-type="sabotage">
                <div class="power-up-icon">üß®</div>
                <div class="power-up-name">Sabotage</div>
                <div class="power-up-count" id="sabotage-count">0</div>
                <div class="power-up-tooltip">Click to select, then click on opponent territory to convert it back to neutral</div>
            </div>
        </div>
        
        <div id="game-container">
            <canvas id="game-board" width="800" height="680"></canvas>
        </div>
        
        <div id="right-powers" class="power-side">
            <div class="power-up-slot" data-type="wildcard">
                <div class="power-up-icon">üÉè</div>
                <div class="power-up-name">Wildcard</div>
                <div class="power-up-count" id="wildcard-count">0</div>
                <div class="power-up-tooltip">Click to select, then click on unclaimed tile adjacent to yours to claim it</div>
            </div>
            
            <div class="power-up-slot" data-type="teleport">
                <div class="power-up-icon">‚ö°</div>
                <div class="power-up-name">Teleport</div>
                <div class="power-up-count" id="teleport-count">0</div>
                <div class="power-up-tooltip">Click to select, then click on any unclaimed tile to claim it</div>
            </div>
        </div>
    </div>

    <div id="color-palette">
        <div class="color-swatch">
            <button class="color-button" data-color="#F8E9A1" style="background-color: #F8E9A1;"></button>
        </div>
        <div class="color-swatch">
            <button class="color-button" data-color="#F76C6C" style="background-color: #F76C6C;"></button>
        </div>
        <div class="color-swatch">
            <button class="color-button" data-color="#B8E0F6" style="background-color: #B8E0F6;"></button>
        </div>
        <div class="color-swatch">
            <button class="color-button" data-color="#374785" style="background-color: #374785;"></button>
        </div>
        <div class="color-swatch">
            <button class="color-button" data-color="#0F1A40" style="background-color: #0F1A40;"></button>
        </div>
    </div>
    <div id="game-controls" class="hidden-initially">
          <!-- Game control buttons like restart/leave might go here later if needed -->
          <button id="restartGameButton">Restart Game</button>
          <button id="leaveGameButton">Leave Game</button>
      </div>
  
      <div id="message" class="hidden-initially">Welcome to Outdoor Miner! Place your tiles wisely.</div>
      <div id="landmine-info" class="hidden-initially"></div> <!-- To display landmine count -->
    </div>
    

    <!-- Audio elements for game sounds -->
    <audio id="explosion-sound" src="sounds/explosion.mp3" preload="auto"></audio>
    <audio id="power-up-sound" src="sounds/power-up.mp3" preload="auto"></audio>
    <audio id="message-sound" src="sounds/message.mp3" preload="auto"></audio>
    <audio id="taunt-sound" src="sounds/taunt.mp3" preload="auto"></audio>
    
    <!-- Chat overlay (initially hidden) -->
    <div id="chat-container" class="hidden">
        <div id="chat-header">
            <h3>Game Chat</h3>
            <button id="close-chat">√ó</button>
        </div>
        <div id="chat-messages"></div>
        <div id="chat-input-area">
            <input type="text" id="chat-input" placeholder="Type a message...">
            <button id="send-message">Send</button>
            <div id="taunt-menu" class="hidden">
                <div class="taunt-list"></div>
            </div>
            <button id="show-taunts">üòà</button>
        </div>
    </div>

    <!-- Chat toggle button -->
    <button id="toggle-chat" style="display: none;">üí¨</button>

    <!-- Socket.io Client -->
    <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
    <!-- Config -->
    <script src="config.js"></script>
    <!-- Main Game Script -->
    <script src="script.js"></script>
    <!-- Multiplayer Client Script -->
    <script src="multiplayer.js"></script>
    
    <footer>
        <p>Outdoor Miner &copy; 2025 - A colorful territory capture game</p>
    </footer>
</body>
</html>